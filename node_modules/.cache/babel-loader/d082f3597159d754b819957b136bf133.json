{"remainingRequest":"E:\\Team\\team2\\node_modules\\babel-loader\\lib\\index.js!E:\\Team\\team2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Team\\team2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Team\\team2\\src\\views\\Shopping.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Team\\team2\\src\\views\\Shopping.vue","mtime":1610622384661},{"path":"E:\\Team\\team2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Team\\team2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Team\\team2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Team\\team2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBzdHI6IFsKICAgICAgLy8gICAi5YGl6Lqr5YeP6ISCIiwKICAgICAgLy8gICAi5YGl5bq36K6+5aSHIiwKICAgICAgLy8gICAi5YGl5bq35a625bGFIiwKICAgICAgLy8gICAi5YGl5bq36aOf54mpIiwKICAgICAgLy8gICAi5YGl5bq35oqk6IKkIiwKICAgICAgLy8gICAi5YGl5bq35L2T5qOAIiwKICAgICAgLy8gICAi5YGl5bq35pyN5YqhIiwKICAgICAgLy8gICAi5YGl5bq35aWX6aSQIiwKICAgICAgLy8gXSwKICAgICAgY2F0ZWdvcnk6IFtdLAogICAgICBzZWx0ZWNkOiAidGFiIiwKICAgICAgcHJvZHVjdDogW10sCiAgICAgIGJlc3Q6IFtdLAogICAgICBzd2lwZXI6IFtdLAogICAgICBwYWdlOiAxLAogICAgICBzZWxlY3RlZFRhYjogInNob3BwaW5nIiwKICAgICAgdG90YWxQYWdlOiAwLAogICAgICBidXN5OiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBzZWxlY3RlZFRhYjogZnVuY3Rpb24gc2VsZWN0ZWRUYWIobmV3VmFsKSB7CiAgICAgIGlmIChuZXdWYWwgPT0gImluZGV4IikgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgIH0gZWxzZSBpZiAobmV3VmFsID09ICJ0b2RheSIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3RvZGF5Iik7CiAgICAgIH0gZWxzZSBpZiAobmV3VmFsID09ICJzaG9wcGluZyIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3Nob3BwaW5nIik7CiAgICAgIH0gZWxzZSBpZiAobmV3VmFsID09ICJtZSIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL21lIik7CiAgICAgIH0gZWxzZSBpZiAobmV3VmFsID09ICJoZWFsdGgiKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9oZWFsdGgiKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5heGlvcy5nZXQoIi9zaG9wcGluZyIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5jYXRlZ29yeSA9IHJlcy5kYXRhLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuYXhpb3MuZ2V0KCIvYmVzdCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5iZXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgIH0pOwogICAgdGhpcy5heGlvcy5nZXQoIi9zd2lwZXIiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMuc3dpcGVyID0gcmVzLmRhdGEuZGF0YTsKICAgIH0pOwogICAgdGhpcy5sb2FkUHJvZHVjdCgxLCAxLCBmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICBfdGhpcy5wcm9kdWN0ID0gcHJvZHVjdDsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZFByb2R1Y3Q6IGZ1bmN0aW9uIGxvYWRQcm9kdWN0KGNpZCwgcGFnZSwgY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmJ1c3kgPSB0cnVlOwogICAgICB0aGlzLiRpbmRpY2F0b3Iub3Blbih7CiAgICAgICAgdGV4dDogIuWKquWKm+WKoOi9veS4rS4uLiIsCiAgICAgICAgc3Bpbm5lclR5cGU6ICJkb3VibGUtYm91bmNlIgogICAgICB9KTsKICAgICAgdmFyIHVybCA9ICIvcHJvZHVjdD9jaWQ9Ii5jb25jYXQoY2lkLCAiJnBhZ2U9IikuY29uY2F0KHBhZ2UpOwogICAgICB0aGlzLmF4aW9zLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi50b3RhbFBhZ2UgPSByZXMuZGF0YS50b3RhbFBhZ2U7IC8vIGNvbnNvbGUubG9nKHRoaXMudG90YWxQYWdlKTsKCiAgICAgICAgY2FsbGJhY2socmVzLmRhdGEuZGF0YSk7IC8vIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgIF90aGlzMi5idXN5ID0gZmFsc2U7CgogICAgICAgIF90aGlzMi4kaW5kaWNhdG9yLmNsb3NlKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Shopping.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAA,QAAA,EAAA,EAXA;AAYA,MAAA,OAAA,EAAA,KAZA;AAaA,MAAA,OAAA,EAAA,EAbA;AAcA,MAAA,IAAA,EAAA,EAdA;AAeA,MAAA,MAAA,EAAA,EAfA;AAgBA,MAAA,IAAA,EAAA,CAhBA;AAiBA,MAAA,WAAA,EAAA,UAjBA;AAkBA,MAAA,SAAA,EAAA,CAlBA;AAmBA,MAAA,IAAA,EAAA;AAnBA,KAAA;AAqBA,GAvBA;AAwBA,EAAA,KAAA,EAAA;AACA,IAAA,WADA,uBACA,MADA,EACA;AACA,UAAA,MAAA,IAAA,OAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAFA,MAEA,IAAA,MAAA,IAAA,OAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,OAFA,MAEA,IAAA,MAAA,IAAA,UAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA,OAFA,MAEA,IAAA,MAAA,IAAA,IAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAFA,MAEA,IAAA,MAAA,IAAA,QAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA;AACA;AAbA,GAxBA;AAuCA,EAAA,OAvCA,qBAuCA;AAAA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,WAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAFA;AAGA,SAAA,KAAA,CAAA,GAAA,CAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAFA;AAGA,SAAA,KAAA,CAAA,GAAA,CAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAFA;AAGA,SAAA,WAAA,CAAA,CAAA,EAAA,CAAA,EAAA,UAAA,OAAA,EAAA;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,OAAA;AACA,KAFA;AAGA,GApDA;AAqDA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,GADA,EACA,IADA,EACA,QADA,EACA;AAAA;;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,UAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,UADA;AAEA,QAAA,WAAA,EAAA;AAFA,OAAA;AAIA,UAAA,GAAA,0BAAA,GAAA,mBAAA,IAAA,CAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CADA,CAEA;;AACA,QAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAHA,CAIA;;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,UAAA,CAAA,KAAA;AACA,OAPA;AAQA;AAhBA;AArDA,CAAA","sourcesContent":["<template>\r\n  <div class=\"shopping\">\r\n    <div class=\"input\">\r\n      <van-search placeholder=\"请输入搜索关键词\" />\r\n      <img src=\"../assets/shopping/kefu.png\" alt=\"\" />\r\n    </div>\r\n    <div class=\"lun\">\r\n      <van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"white\">\r\n        <van-swipe-item v-for=\"(swiper, index) of swiper\" :key=\"index\">\r\n          <img v-lazy=\"swiper.swiper_img\" v-if=\"swiper.swiper_img != null\" />\r\n        </van-swipe-item>\r\n      </van-swipe>\r\n    </div>\r\n    <div class=\"sort\">\r\n      <ul>\r\n        <li v-for=\"(category, index) of category\" :key=\"index\">\r\n          <img\r\n            v-lazy=\"category.category_img\"\r\n            v-if=\"category.category_img != null\"\r\n          />\r\n          <a href=\"javascript\">{{ category.classify }}</a>\r\n        </li>\r\n        <li>\r\n          <img src=\"../assets/shopping/quanbu.png\" alt=\"\" />\r\n          <a href=\"javascript\">全部分类</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"hand\">\r\n      <div>精选好物</div>\r\n      <ul>\r\n        <li v-for=\"(best, index) of best\" :key=\"index\">\r\n          <img v-lazy=\"best.best_img\" v-if=\"best.best_img != null\" />\r\n          <span>{{ best.subject }}</span\r\n          ><br />\r\n          <span\r\n            >￥{{ best.b_discount }}<button>{{ best.snap_up }}</button></span\r\n          >\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"shop_ceil\" v-model=\"seltecd\">\r\n      <ul>\r\n        <li\r\n          v-for=\"(item, index) of category\"\r\n          :key=\"index\"\r\n          :id=\"'tab' + item.id\"\r\n        >\r\n          {{ item.classify }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <!-- 单一商品开始 -->\r\n    <div class=\"product\" v-for=\"(product, index) of product\" :key=\"index\">\r\n      <ul>\r\n        <li>\r\n          <img v-lazy=\"product.img_big\" v-if=\"product.img_big != null\" />\r\n          <div>\r\n            <span class=\"span\">{{ product.subject }}</span>\r\n            <h6>{{ product.subhead }}</h6>\r\n          </div>\r\n          <div>\r\n            <span class=\"span\">惊爆价:￥{{ product.price }}</span>\r\n            <span class=\"left\">原价:{{ product.p_discount }}</span>\r\n            <span class=\"right\">本月销量:{{ product.sales }}</span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <!-- 单一商品结束 -->\r\n    <mt-tabbar v-model=\"selectedTab\" class=\"mt_tabbar\" fixed>\r\n      <mt-tab-item id=\"today\">\r\n        <img\r\n          slot=\"icon\"\r\n          src=\"../assets/today2.png\"\r\n          v-if=\"selectedTab == 'today'\"\r\n        />\r\n        <img src=\"../assets/today.png\" v-else slot=\"icon\" alt=\"\" />\r\n        今日计划\r\n      </mt-tab-item>\r\n\r\n      <mt-tab-item id=\"health\">\r\n        <img\r\n          slot=\"icon\"\r\n          src=\"../assets/jk2.png\"\r\n          v-if=\"selectedTab == 'health'\"\r\n        />\r\n        <img src=\"../assets/jk.png\" alt=\"\" slot=\"icon\" v-else />\r\n        健康养生\r\n      </mt-tab-item>\r\n      <mt-tab-item id=\"index\">\r\n        <img\r\n          slot=\"icon\"\r\n          src=\"../assets/sy2.png\"\r\n          v-if=\"selectedTab == 'index'\"\r\n        />\r\n        <img slot=\"icon\" src=\"../assets/sy.png\" v-else />\r\n        首页\r\n      </mt-tab-item>\r\n      <mt-tab-item id=\"shopping\">\r\n        <img\r\n          slot=\"icon\"\r\n          src=\"../assets/shopping2.png\"\r\n          v-if=\"selectedTab == 'shopping'\"\r\n        />\r\n        <img src=\"../assets/shopping.png\" v-else slot=\"icon\" alt=\"\" />\r\n        商城\r\n      </mt-tab-item>\r\n      <mt-tab-item id=\"me\">\r\n        <img slot=\"icon\" src=\"../assets/my2.png\" v-if=\"selectedTab == 'me'\" />\r\n        <img src=\"../assets/my.png\" alt=\"\" slot=\"icon\" v-else />\r\n        个人中心\r\n      </mt-tab-item>\r\n    </mt-tabbar>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // str: [\r\n      //   \"健身减脂\",\r\n      //   \"健康设备\",\r\n      //   \"健康家居\",\r\n      //   \"健康食物\",\r\n      //   \"健康护肤\",\r\n      //   \"健康体检\",\r\n      //   \"健康服务\",\r\n      //   \"健康套餐\",\r\n      // ],\r\n      category: [],\r\n      seltecd: \"tab\",\r\n      product: [],\r\n      best: [],\r\n      swiper: [],\r\n      page: 1,\r\n      selectedTab: \"shopping\",\r\n      totalPage: 0,\r\n      busy: false,\r\n    };\r\n  },\r\n  watch: {\r\n    selectedTab(newVal) {\r\n      if (newVal == \"index\") {\r\n        this.$router.push(\"/\");\r\n      } else if (newVal == \"today\") {\r\n        this.$router.push(\"/today\");\r\n      } else if (newVal == \"shopping\") {\r\n        this.$router.push(\"/shopping\");\r\n      } else if (newVal == \"me\") {\r\n        this.$router.push(\"/me\");\r\n      } else if (newVal == \"health\") {\r\n        this.$router.push(\"/health\");\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.axios.get(\"/shopping\").then((res) => {\r\n      this.category = res.data.data;\r\n    });\r\n    this.axios.get(\"/best\").then((res) => {\r\n      this.best = res.data.data;\r\n    });\r\n    this.axios.get(\"/swiper\").then((res) => {\r\n      this.swiper = res.data.data;\r\n    });\r\n    this.loadProduct(1, 1, (product) => {\r\n      this.product = product;\r\n    });\r\n  },\r\n  methods: {\r\n    loadProduct(cid, page, callback) {\r\n      this.busy = true;\r\n      this.$indicator.open({\r\n        text: \"努力加载中...\",\r\n        spinnerType: \"double-bounce\",\r\n      });\r\n      let url = `/product?cid=${cid}&page=${page}`;\r\n      this.axios.get(url).then((res) => {\r\n        this.totalPage = res.data.totalPage;\r\n        // console.log(this.totalPage);\r\n        callback(res.data.data);\r\n        // console.log(res);\r\n        this.busy = false;\r\n        this.$indicator.close();\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n@import \"../css/shopping.css\";\r\n</style>\r\n"],"sourceRoot":"src/views"}]}